"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[88165],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>f});var r=t(67294);function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){p(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,r,p=function(e,a){if(null==e)return{};var t,r,p={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(p[t]=e[t]);return p}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var c=r.createContext({}),s=function(e){var a=r.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},d=function(e){var a=s(e.components);return r.createElement(c.Provider,{value:a},e.children)},l="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},u=r.forwardRef((function(e,a){var t=e.components,p=e.mdxType,n=e.originalType,c=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),l=s(t),u=p,f=l["".concat(c,".").concat(u)]||l[u]||m[u]||n;return t?r.createElement(f,i(i({ref:a},d),{},{components:t})):r.createElement(f,i({ref:a},d))}));function f(e,a){var t=arguments,p=a&&a.mdxType;if("string"==typeof e||p){var n=t.length,i=new Array(n);i[0]=u;var o={};for(var c in a)hasOwnProperty.call(a,c)&&(o[c]=a[c]);o.originalType=e,o[l]="string"==typeof e?e:p,i[1]=o;for(var s=2;s<n;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},18794:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>n,metadata:()=>o,toc:()=>s});var r=t(87462),p=(t(67294),t(3905));const n={},i="aad sp add",o={unversionedId:"cmd/aad/sp/sp-add",id:"cmd/aad/sp/sp-add",title:"aad sp add",description:"Adds a service principal to a registered Azure AD app",source:"@site/docs/cmd/aad/sp/sp-add.md",sourceDirName:"cmd/aad/sp",slug:"/cmd/aad/sp/sp-add",permalink:"/cmd/aad/sp/sp-add",draft:!1,editUrl:"https://github.com/pnp/cli-microsoft365/blob/main/docs/docs/cmd/aad/sp/sp-add.md",tags:[],version:"current",lastUpdatedBy:"Jwaegebaert",lastUpdatedAt:1672930100,formattedLastUpdatedAt:"Jan 5, 2023",frontMatter:{},sidebar:"commands",previous:{title:"aad siteclassification set",permalink:"/cmd/aad/siteclassification/siteclassification-set"},next:{title:"aad sp get",permalink:"/cmd/aad/sp/sp-get"}},c={},s=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Examples",id:"examples",level:2},{value:"More information",id:"more-information",level:2}],d={toc:s};function l(e){let{components:a,...t}=e;return(0,p.kt)("wrapper",(0,r.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,p.kt)("h1",{id:"aad-sp-add"},"aad sp add"),(0,p.kt)("p",null,"Adds a service principal to a registered Azure AD app"),(0,p.kt)("h2",{id:"usage"},"Usage"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"m365 aad sp add [options]\n")),(0,p.kt)("h2",{id:"options"},"Options"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"--appId [appId]"),"\n: ID of the application to which the service principal should be added"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"--appName [appName]"),"\n: Display name of the application to which the service principal should be added"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"--objectId [objectId]"),"\n: ObjectId of the application to which the service principal should be added"),(0,p.kt)("p",null,'--8<-- "docs/cmd/_global.md"'),(0,p.kt)("h2",{id:"remarks"},"Remarks"),(0,p.kt)("p",null,"Specify either the ",(0,p.kt)("inlineCode",{parentName:"p"},"appId"),", ",(0,p.kt)("inlineCode",{parentName:"p"},"appName")," or ",(0,p.kt)("inlineCode",{parentName:"p"},"objectId"),". If you specify more than one option value, the command will fail with an error."),(0,p.kt)("p",null,"If you register an application in the portal, an application object as well as a service principal object are automatically created in your home tenant. If you register an application using CLI for Microsoft 365 or the Microsoft Graph, you'll need to create the service principal separately. To register/create an application using the CLI for Microsoft 365, use the ",(0,p.kt)("a",{parentName:"p",href:"/cmd/aad/app/app-add"},"m365 aad app add")," command."),(0,p.kt)("h2",{id:"examples"},"Examples"),(0,p.kt)("p",null,"Adds a service principal to a registered Azure AD app with appId ",(0,p.kt)("em",{parentName:"p"},"b2307a39-e878-458b-bc90-03bc578531d6"),"."),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"m365 aad sp add --appId b2307a39-e878-458b-bc90-03bc578531d6\n")),(0,p.kt)("p",null,"Adds a service principal to a registered Azure AD app with appName ",(0,p.kt)("em",{parentName:"p"},"Microsoft Graph"),"."),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},'m365 aad sp add --appName "Microsoft Graph"\n')),(0,p.kt)("p",null,"Adds a service principal to a registered Azure AD app with objectId ",(0,p.kt)("em",{parentName:"p"},"b2307a39-e878-458b-bc90-03bc578531d6"),"."),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"m365 aad sp add --objectId b2307a39-e878-458b-bc90-03bc578531d6\n")),(0,p.kt)("h2",{id:"more-information"},"More information"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"Application and service principal objects in Azure Active Directory (Azure AD): ",(0,p.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-application-objects"},"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-application-objects")),(0,p.kt)("li",{parentName:"ul"},"Create servicePrincipal: ",(0,p.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/graph/api/serviceprincipal-post-serviceprincipals?view=graph-rest-1.0"},"https://docs.microsoft.com/en-us/graph/api/serviceprincipal-post-serviceprincipals?view=graph-rest-1.0"))))}l.isMDXComponent=!0}}]);