"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[64449],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>f});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=o.createContext({}),m=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=m(e.components);return o.createElement(p.Provider,{value:n},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),l=m(t),u=r,f=l["".concat(p,".").concat(u)]||l[u]||d[u]||a;return t?o.createElement(f,i(i({ref:n},c),{},{components:t})):o.createElement(f,i({ref:n},c))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=u;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s[l]="string"==typeof e?e:r,i[1]=s;for(var m=2;m<a;m++)i[m]=t[m];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},89450:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>m});var o=t(87462),r=(t(67294),t(3905));const a={},i="pp environment list",s={unversionedId:"cmd/pp/environment/environment-list",id:"cmd/pp/environment/environment-list",title:"pp environment list",description:"Lists Microsoft Power Platform environments",source:"@site/docs/cmd/pp/environment/environment-list.md",sourceDirName:"cmd/pp/environment",slug:"/cmd/pp/environment/environment-list",permalink:"/cli-microsoft365-docusaurus/cmd/pp/environment/environment-list",draft:!1,editUrl:"https://github.com/pnp/cli-microsoft365/blob/main/docs/docs/cmd/pp/environment/environment-list.md",tags:[],version:"current",lastUpdatedAt:1672930100,formattedLastUpdatedAt:"Jan 5, 2023",frontMatter:{},sidebar:"commands",previous:{title:"pp environment get",permalink:"/cli-microsoft365-docusaurus/cmd/pp/environment/environment-get"},next:{title:"pp gateway get",permalink:"/cli-microsoft365-docusaurus/cmd/pp/gateway/gateway-get"}},p={},m=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Examples",id:"examples",level:2},{value:"Response",id:"response",level:2}],c={toc:m};function l(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"pp-environment-list"},"pp environment list"),(0,r.kt)("p",null,"Lists Microsoft Power Platform environments"),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"m365 pp environment list [options]\n")),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"--asAdmin"),"\n: Run the command as admin and retrieve all environments. Lists only environments you have explicitly are assigned permissions to by default."),(0,r.kt)("p",null,'--8<-- "docs/cmd/_global.md"'),(0,r.kt)("h2",{id:"remarks"},"Remarks"),(0,r.kt)("p",null,"!!! attention\nThis command is based on an API that is currently in preview and is subject to change once the API reached general availability.\nRegister CLI for Microsoft 365 or Azure AD application as a management application for the Power Platform using\nm365 pp managementapp add ","[options]"," "),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,"List Microsoft Power Platform environments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"m365 pp environment list\n")),(0,r.kt)("p",null,"List all Microsoft Power Platform environments"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"m365 pp environment list --asAdmin\n")),(0,r.kt)("h2",{id:"response"},"Response"),(0,r.kt)("p",null,'=== "JSON"'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'```json\n[\n  {\n    "id":"/providers/Microsoft.BusinessAppPlatform/environments/Default-e1dd4023-a656-480a-8a0e-c1b1eec51e1d",\n    "type":"Microsoft.BusinessAppPlatform/environments",\n    "location":"europe",\n    "name":"Default-e1dd4023-a656-480a-8a0e-c1b1eec51e1d",\n    "properties":{\n      "tenantId":"e1dd4023-a656-480a-8a0e-c1b1eec51e1d",\n      "azureRegion":"northeurope",\n      "displayName":"contoso (default)",\n      "createdTime":"2020-03-12T13:39:17.9876946Z",\n      "createdBy":{\n        "id":"SYSTEM",\n        "displayName":"SYSTEM",\n        "type":"NotSpecified"\n      },\n      "provisioningState":"Succeeded",\n      "creationType":"DefaultTenant",\n      "environmentSku":"Default",\n      "isDefault":true,\n      "clientUris":{\n        "admin":"https://admin.powerplatform.microsoft.com/environments/environment/Default-e1dd4023-a656-480a-8a0e-c1b1eec51e1d/hub",\n        "maker":"https://make.powerapps.com/environments/Default-e1dd4023-a656-480a-8a0e-c1b1eec51e1d/home"\n      },\n      "runtimeEndpoints":{\n        "microsoft.BusinessAppPlatform":"https://europe.api.bap.microsoft.com",\n        "microsoft.CommonDataModel":"https://europe.api.cds.microsoft.com",\n        "microsoft.PowerApps":"https://europe.api.powerapps.com",\n        "microsoft.PowerAppsAdvisor":"https://europe.api.advisor.powerapps.com",\n        "microsoft.PowerVirtualAgents":"https://powervamg.eu-il109.gateway.prod.island.powerapps.com",\n        "microsoft.ApiManagement":"https://management.EUROPE.azure-apihub.net",\n        "microsoft.Flow":"https://emea.api.flow.microsoft.com"\n      },\n      "databaseType":"CommonDataService",\n      "linkedEnvironmentMetadata":{\n        "resourceId":"5041ef46-5a1c-4a0f-a185-6bb49b5c6686",\n        "friendlyName":"contoso (default)",\n        "uniqueName":"unq5041ef465a1c4a0fa1856bb49b5c6",\n        "domainName":"org6633049a",\n        "version":"9.2.22101.00168",\n        "instanceUrl":"https://org6633049a.crm4.dynamics.com/",\n        "instanceApiUrl":"https://org6633049a.api.crm4.dynamics.com",\n        "baseLanguage":1033,\n        "instanceState":"Ready",\n        "createdTime":"2021-10-08T09:50:41.283Z",\n        "backgroundOperationsState":"Enabled",\n        "scaleGroup":"EURCRMLIVESG644",\n        "platformSku":"Standard"\n      },\n      "trialScenarioType":"None",\n      "retentionPeriod":"P7D",\n      "states":{\n        "management":{\n          "id":"NotSpecified"\n        },\n        "runtime":{\n          "runtimeReasonCode":"NotSpecified",\n          "requestedBy":{\n            "displayName":"SYSTEM",\n            "type":"NotSpecified"\n          },\n          "id":"Enabled"\n        }\n      },\n      "updateCadence":{\n        "id":"Frequent"\n      },\n      "retentionDetails":{\n        "retentionPeriod":"P7D",\n        "backupsAvailableFromDateTime":"2022-10-23T23:27:16.8059564Z"\n      },\n      "protectionStatus":{\n        "keyManagedBy":"Microsoft"\n      },\n      "cluster":{\n        "category":"Prod",\n        "number":"109",\n        "uriSuffix":"eu-il109.gateway.prod.island",\n        "geoShortName":"EU",\n        "environment":"Prod"\n      },\n      "connectedGroups":[\n        \n      ],\n      "lifecycleOperationsEnforcement":{\n        "allowedOperations":[\n          {\n            "type":{\n              "id":"Backup"\n            }\n          },\n          {\n            "type":{\n              "id":"Edit"\n            }\n          },\n          {\n            "type":{\n              "id":"Enable"\n            }\n          },\n          {\n            "type":{\n              "id":"Disable"\n            }\n          },\n          {\n            "type":{\n              "id":"EnableGovernanceConfiguration"\n            }\n          }\n        ],\n        "disallowedOperations":[\n          {\n            "type":{\n              "id":"Provision"\n            },\n            "reason":{\n              "message":"Provision cannot be performed because there is no linked CDS instance or the CDS instance version is not supported."\n            }\n          },\n          {\n            "type":{\n              "id":"Unlock"\n            },\n            "reason":{\n              "message":"Unlock cannot be performed because there is no linked CDS instance or the CDS instance version is not supported."\n            }\n          },\n          {\n            "type":{\n              "id":"Convert"\n            },\n            "reason":{\n              "message":"Convert cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Copy"\n            },\n            "reason":{\n              "message":"Copy cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Delete"\n            },\n            "reason":{\n              "message":"Delete cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Promote"\n            },\n            "reason":{\n              "message":"Promote cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Recover"\n            },\n            "reason":{\n              "message":"Recover cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Reset"\n            },\n            "reason":{\n              "message":"Reset cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"Restore"\n            },\n            "reason":{\n              "message":"Restore cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"UpdateProtectionStatus"\n            },\n            "reason":{\n              "message":"UpdateProtectionStatus cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"NewCustomerManagedKey"\n            },\n            "reason":{\n              "message":"NewCustomerManagedKey cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"RotateCustomerManagedKey"\n            },\n            "reason":{\n              "message":"RotateCustomerManagedKey cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"RevertToMicrosoftKey"\n            },\n            "reason":{\n              "message":"RevertToMicrosoftKey cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"NewNetworkInjection"\n            },\n            "reason":{\n              "message":"NewNetworkInjection cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"SwapNetworkInjection"\n            },\n            "reason":{\n              "message":"SwapNetworkInjection cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"RevertNetworkInjection"\n            },\n            "reason":{\n              "message":"RevertNetworkInjection cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"NewIdentity"\n            },\n            "reason":{\n              "message":"NewIdentity cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"SwapIdentity"\n            },\n            "reason":{\n              "message":"SwapIdentity cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"RevertIdentity"\n            },\n            "reason":{\n              "message":"RevertIdentity cannot be performed on environment of type Default."\n            }\n          },\n          {\n            "type":{\n              "id":"DisableGovernanceConfiguration"\n            },\n            "reason":{\n              "message":"DisableGovernanceConfiguration cannot be performed on Power Platform environment because of the governance configuration."\n            }\n          },\n          {\n            "type":{\n              "id":"UpdateGovernanceConfiguration"\n            },\n            "reason":{\n              "message":"UpdateGovernanceConfiguration cannot be performed on Power Platform environment because of the governance configuration."\n            }\n          }\n        ]\n      },\n      "governanceConfiguration":{\n        "protectionLevel":"Basic"\n      }\n    },\n    "displayName":"contoso (default)"\n  }\n]\n```\n')),(0,r.kt)("p",null,'=== "Text"'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```text\ndisplayName                             name\n--------------------------------------- --------------------------------------------\nenvironmentName (default) (org6633050c) Default-e1dd4030-a657-480a-8a0e-c1b1eec51e2e\n```\n")),(0,r.kt)("p",null,'=== "CSV"'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"```csv\nname,displayName\nDefault-e1dd4023-a656-480a-8a0e-c1b1eec51e1d,contoso (default)\n```\n")))}l.isMDXComponent=!0}}]);